<!DOCTYPE html>
<html>
    <head>
        <style>
            body {
                min-height: 100vh;
                display: flex;
                flex-direction: column;
            }
            main {
                flex: 1 0 auto;
            }
        </style>
        <title>View Page</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    </head>
    <body>
        <header>
            <nav>
                <div class="nav-wrapper">
                    <a class="brand-logo right">Logo</a>
                    <ul id="nav-mobile" class="left hide-on-med-and-down">
                        <li><a>View</a></li>
                        <li class="active"><a>Define</a></li>
                        <li><a>Conduct</a></li>
                    </ul>
                </div>
            </nav>
        </header>
        <main>
            <div class="container">
                <div class="section">
                    <div class="input-field col s12">
                        <input type="text" class="validate" name="title" placeholder="Survey title">
                    </div>
                </div>
                <div class="divider"></div>
                <div class="section">
                    <ol>
                        <li><input type="text" class="validate questions" name="1"></li>
                    </ol>
                    <ol style="list-style-type: lower-latin;padding: 0px 0px 0px 60px;" class="answers">
                        <li><input type="text" class="validate" name="1-a"></li>
                        <li><input type="text" class="validate" name="1-b"></li>
                    </ol>
                    <div class="row">
                        <div class="col s6">
                            <button class="waves-effect waves-light btn-small">remove question</button>
                        </div>
                        <div class="col s6">
                            <button class="right waves-effect waves-light btn-small" id="add_option">add option</button>
                        </div>
                    </div>
                </div>
                <div class="divider"></div>
                <div class="section">
                    <div class="row">
                        <div class="col s12">
                            <button class="right waves-effect waves-light btn-small" id="add_question">add question</button>
                        </div>
                    </div>
                </div>
                <div class="divider"></div>
                <div class="section">
                    <div class="row">
                        <div class="col s6">
                            <button class="waves-effect waves-light btn-small">Cancel</button>
                        </div>
                        <div class="col s6">
                            <button class="right waves-effect waves-light btn-small">Save</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <footer class="page-footer">
            <div class="footer-copyright">
                <div class="container center-align">Â© 2023 Survey App</div>
            </div>
        </footer>
        <script src="https://code.jquery.com/jquery-3.6.4.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        <script>
            $(document).ready(function() {
                $('select').formSelect();
                console.log($('.answers').last().children());
                var answers_array = ['a', 'b', 'c', 'd', 'e'];
                $('#add_option').on('click', function() {
                    var questions_amount = $('.questions').length;
                    if(questions_amount <= 10) {

                        var answers_amount = $('.answers').last().children().length;

                        if(answers_amount < 5) {
                            var question = questions_amount;
                            var option = answers_array[answers_amount];
                            $('.answers').last().append(`<li><input type="text" class="validate" name="${question}-${option}"></li>`);
                        }

                        if($('.answers').last().children().length == 5) {
                            $(this).addClass('disabled');
                        }
                    }
                })
                $('#add_question').on('click', function() {
                    var questions_amount = $('.questions').length;
                    if(questions_amount < 10) {
                        var new_question = questions_amount + 1;
                        var html = `<ol start="${new_question}">
                                        <li><input type="text" class="validate questions" name="${new_question}"></li>
                                    </ol>
                                    <ol style="list-style-type: lower-latin;padding: 0px 0px 0px 60px;" class="answers">
                                        <li><input type="text" class="validate" name="${new_question}-a"></li>
                                        <li><input type="text" class="validate" name="${new_question}-b"></li>
                                    </ol>`;
                        $('.answers').last().after(html);
                        if($('#add_option').hasClass('disabled')) {
                            $('#add_option').removeClass('disabled');
                        }
                    }
                });
            })
        </script>
    </body>
</html>